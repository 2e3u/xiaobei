<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C语言指针 - 王小北的学习之旅</title>
    <link rel="stylesheet" href="../../styles.css">
    <script src="../../script.js" defer></script>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="../../index.html">返回首页</a></li>
                <li><a href="../../index.html#c-programming">C语言学习</a></li>
                <li><a href="../../index.html#unity-2d">Unity开发</a></li>
                <li><a href="../../pages/tools.html">实用工具</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="page-header">
            <div class="section-content">
                <h1 class="page-title">指针</h1>
                <p class="page-subtitle">深入理解C语言中的指针概念和应用</p>
            </div>
        </section>

        <section class="page-content">
            <div class="section-content">
                <div class="content-container">
                    <!-- 指针基础 -->
                    <div class="learning-section">
                        <h2>指针基础</h2>
                        <div class="concept-explanation">
                            <p>指针是存储内存地址的变量。</p>
                        </div>
                        <div class="code-example">
                            <h3>指针声明和基本操作</h3>
                            <pre class="code-block">
// 指针声明和初始化
int num = 10;
int *ptr = &num;  // ptr存储num的地址

// 通过指针访问值
printf("值：%d\n", *ptr);     // 解引用：输出10
printf("地址：%p\n", ptr);    // 输出内存地址

// 指针修改值
*ptr = 20;  // 通过指针修改num的值
printf("修改后的值：%d\n", num);  // 输出20

// 空指针
int *nullPtr = NULL;
if (nullPtr == NULL) {
    printf("这是一个空指针\n");
}
                            </pre>
                        </div>
                    </div>

                    <!-- 指针和数组 -->
                    <div class="learning-section">
                        <h2>指针和数组</h2>
                        <div class="code-example">
                            <h3>数组指针操作</h3>
                            <pre class="code-block">
// 数组和指针的关系
int arr[] = {1, 2, 3, 4, 5};
int *p = arr;  // 数组名是首元素地址

// 使用指针访问数组元素
printf("第一个元素：%d\n", *p);      // 1
printf("第二个元素：%d\n", *(p+1));  // 2

// 指针遍历数组
for(int i = 0; i < 5; i++) {
    printf("%d ", *(p + i));  // 使用指针算术
}

// 等价的数组表示法
for(int i = 0; i < 5; i++) {
    printf("%d ", p[i]);      // 使用数组下标
}
                            </pre>
                        </div>
                    </div>

                    <!-- 指针和函数 -->
                    <div class="learning-section">
                        <h2>指针和函数</h2>
                        <div class="code-example">
                            <h3>函数指针和回调</h3>
                            <pre class="code-block">
// 通过指针传递参数
void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

int x = 5, y = 10;
swap(&x, &y);  // 传递地址

// 函数指针
int add(int a, int b) { return a + b; }
int subtract(int a, int b) { return a - b; }

// 声明函数指针
int (*operation)(int, int);

// 使用函数指针
operation = add;
printf("结果：%d\n", operation(5, 3));  // 8

operation = subtract;
printf("结果：%d\n", operation(5, 3));  // 2
                            </pre>
                        </div>
                    </div>

                    <!-- 多级指针 -->
                    <div class="learning-section">
                        <h2>多级指针</h2>
                        <div class="code-example">
                            <h3>指针的指针</h3>
                            <pre class="code-block">
// 二级指针
int value = 42;
int *ptr1 = &value;    // 一级指针
int **ptr2 = &ptr1;    // 二级指针

// 通过多级指针访问值
printf("值：%d\n", **ptr2);  // 42

// 动态二维数组
int rows = 3, cols = 4;
int **matrix = (int**)malloc(rows * sizeof(int*));
for(int i = 0; i < rows; i++) {
    matrix[i] = (int*)malloc(cols * sizeof(int));
}

// 使用完后释放内存
for(int i = 0; i < rows; i++) {
    free(matrix[i]);
}
free(matrix);
                            </pre>
                        </div>
                        <div class="practice-exercise">
                            <h3>练习题</h3>
                            <div class="exercise">
                                <p>实现一个函数，使用指针交换两个字符串：</p>
                                <pre class="code-block">
void swapStrings(char **str1, char **str2) {
    // 请完成此函数
    // 提示：需要交换指针指向的地址
}

// 测试代码
char *s1 = "Hello";
char *s2 = "World";
swapStrings(&s1, &s2);
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 王小北的学习之旅. 保留所有权利。</p>
    </footer>
</body>
</html> 